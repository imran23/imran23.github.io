<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <style>
    :root{
      --bg:#f7c6d6;
      --card:#f5f5f5;
      --text:#222;
      --muted:#666;
      --yes:#ff2e7a;
      --yesHover:#ff0f66;
      --no:#e6e6e6;
      --shadow: 0 12px 35px rgba(0,0,0,.18);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background: radial-gradient(1200px 600px at 50% 30%, rgba(255,255,255,.35), transparent 60%),
                  var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      overflow:hidden;
    }

    .card{
      width:min(720px, 92vw);
      height:min(380px, 58vh);
      background:var(--card);
      border-radius:18px;
      box-shadow:var(--shadow);
      position:relative;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:28px 22px 30px;
      gap:16px;
      overflow:hidden; /* keeps No inside card */
    }

    .iconWrap{
      width:88px; height:88px;
      display:grid; place-items:center;
      margin-bottom:4px;
    }

    /* Simple cute ‚Äúcat face‚Äù (no external assets) */
    .cat{
      width:78px; height:78px;
      background:#f2b36d;
      border-radius:50%;
      position:relative;
      box-shadow: inset 0 -6px 0 rgba(0,0,0,.06);
    }
    .cat:before, .cat:after{
      content:"";
      position:absolute;
      top:6px;
      width:0;height:0;
      border-left:14px solid transparent;
      border-right:14px solid transparent;
      border-bottom:18px solid #f2b36d;
      filter: drop-shadow(0 2px 0 rgba(0,0,0,.05));
    }
    .cat:before{ left:8px; transform:rotate(-18deg); }
    .cat:after{ right:8px; transform:rotate(18deg); }

    .eye{
      position:absolute;
      top:32px;
      width:8px; height:8px;
      background:#111;
      border-radius:50%;
    }
    .eye.left{ left:24px; }
    .eye.right{ right:24px; }

    .nose{
      position:absolute;
      top:42px; left:50%;
      transform:translateX(-50%);
      width:10px; height:8px;
      background:#ff7fa6;
      border-radius:6px;
    }

    .heartTop{
      position:absolute;
      top:-10px; right:8px;
      width:18px; height:18px;
      background:#ff2e7a;
      transform:rotate(45deg);
      border-radius:4px;
      box-shadow:0 8px 18px rgba(255,46,122,.35);
    }
    .heartTop:before, .heartTop:after{
      content:"";
      position:absolute;
      width:18px; height:18px;
      background:#ff2e7a;
      border-radius:50%;
    }
    .heartTop:before{ left:-9px; top:0; }
    .heartTop:after{ left:0; top:-9px; }

    h1{
      margin:0;
      text-align:center;
      font-weight:800;
      letter-spacing:-0.4px;
      font-size:clamp(22px, 3vw, 34px);
    }

    .actions{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:26px;
      margin-top:10px;
      position:relative;
      height:90px; /* gives room for No to run around */
    }

    button{
      border:0;
      cursor:pointer;
      font-weight:800;
      border-radius:999px;
      transition:transform .12s ease, filter .12s ease, background .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    #yesBtn{
      background:var(--yes);
      color:white;
      padding:18px 44px;
      font-size:20px;
      box-shadow:0 14px 26px rgba(255,46,122,.28);
    }
    #yesBtn:hover{ background:var(--yesHover); transform:translateY(-1px) scale(1.02); }
    #yesBtn:active{ transform:translateY(1px) scale(.98); }

    /* IMPORTANT: No stretching. We ONLY position with left/top (not right). */
    #noBtn{
      background:var(--no);
      color:#333;
      padding:8px 14px;          /* tiny pill like the screenshot */
      font-size:13px;
      box-shadow:0 10px 18px rgba(0,0,0,.08);
      position:absolute;
      left:0;
      top:0;
      width:fit-content;
      white-space:nowrap;
      touch-action:none;
    }

    .note{
      position:absolute;
      bottom:14px;
      font-size:12px;
      color:var(--muted);
      opacity:.9;
      display:flex;
      gap:6px;
      align-items:center;
    }

    /* Heart particles */
    .heart{
      position:fixed;
      width:14px; height:14px;
      background:#ff2e7a;
      transform:rotate(45deg);
      border-radius:3px;
      pointer-events:none;
      will-change: transform, opacity;
      filter: drop-shadow(0 8px 10px rgba(255,46,122,.25));
      z-index:9999;
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      background:#ff2e7a;
      border-radius:50%;
    }
    .heart:before{ left:-7px; top:0; }
    .heart:after{ left:0; top:-7px; }

    @keyframes floatUp {
      0%   { transform:translate(0,0) rotate(45deg) scale(1); opacity:1; }
      100% { transform:translate(var(--dx), var(--dy)) rotate(45deg) scale(var(--s)); opacity:0; }
    }

    .success{
      animation: pop .35s ease-out both;
    }
    @keyframes pop{
      0%{ transform:scale(.98); }
      60%{ transform:scale(1.02); }
      100%{ transform:scale(1); }
    }
    /* Sparkle trail */
.sparkle{
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 999px;
  pointer-events: none;
  z-index: 99999;
  background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,.35) 35%, rgba(255,255,255,0) 70%);
  filter: drop-shadow(0 6px 10px rgba(255,46,122,.20));
  will-change: transform, opacity;
}

@keyframes sparkleFade {
  0%   { transform: translate(0,0) scale(1); opacity: 1; }
  100% { transform: translate(var(--sx), var(--sy)) scale(.2); opacity: 0; }
}

/* Confetti */
.confetti{
  position: fixed;
  width: 8px;
  height: 12px;
  border-radius: 2px;
  pointer-events: none;
  z-index: 99999;
  will-change: transform, opacity;
  opacity: 0.95;
}

@keyframes confettiPop {
  0%   { transform: translate(0,0) rotate(0deg); opacity: 1; }
  100% { transform: translate(var(--cx), var(--cy)) rotate(var(--cr)); opacity: 0; }
}

  </style>
</head>
<body>
  <main class="card" id="card" aria-label="Valentine card">
    <div class="iconWrap" aria-hidden="true">
      <div class="cat">
        <div class="heartTop"></div>
        <div class="eye left"></div>
        <div class="eye right"></div>
        <div class="nose"></div>
      </div>
    </div>

    <h1 id="title">Salimah, will you be my valentine?</h1>

    <div class="actions" id="actions">
      <button id="yesBtn" type="button">Yes</button>
      <button id="noBtn" type="button" aria-label="No (shy)">No</button>
    </div>

    <div class="note" id="note">‚ÄúNo‚Äù seems a bit shy üòà</div>
  </main>
<script>
  // ---- CONFIG ----
  const GIRLFRIEND_NAME = "Salimah";
  // ----------------

  const title = document.getElementById("title");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn  = document.getElementById("noBtn");
  const card   = document.getElementById("card");
  const note   = document.getElementById("note");

  title.textContent = `${GIRLFRIEND_NAME}, will you be my valentine?`;

  const clamp = (n, min, max) => Math.max(min, Math.min(max, n));

  // Ensure No is positioned relative to the card (and visible)
  card.appendChild(noBtn);
  noBtn.style.position = "absolute";
  noBtn.style.zIndex = "10";

  // ---------------------------
  // YES grows on each NO dodge
  // ---------------------------
  let dodgeCount = 0;
  let yesScale = 1;

  function bumpYes() {
    dodgeCount++;
    yesScale = Math.min(1 + dodgeCount * 0.06, 1.65); // growth + cap

    yesBtn.style.transform = `scale(${yesScale})`;

    // bounce
    yesBtn.animate(
      [
        { transform: `scale(${yesScale})` },
        { transform: `scale(${yesScale + 0.06})` },
        { transform: `scale(${yesScale})` },
      ],
      { duration: 220, easing: "ease-out" }
    );

    note.textContent =
      dodgeCount < 4
        ? "‚ÄúNo‚Äù is getting nervous üòà"
        : "Okay okay‚Ä¶ the universe is voting YES üíò";
  }

  function placeNoInitial() {
    const c = card.getBoundingClientRect();
    const b = noBtn.getBoundingClientRect();
    const pad = 16;

    const x = c.width - b.width - 90;
    const y = 150;

    noBtn.style.left = `${clamp(x, pad, c.width - b.width - pad)}px`;
    noBtn.style.top  = `${clamp(y, pad, c.height - b.height - pad)}px`;
  }

  window.addEventListener("load", placeNoInitial);
  window.addEventListener("resize", placeNoInitial);

  // ---------------------------
  // NO dodges: short movement
  // ---------------------------
  const MOVE_DISTANCE  = 55;   // small hop (tune 40‚Äì80)
  const TRIGGER_RADIUS = 135;  // how close cursor must be
  let lastMoveAt = 0;

  function moveNoSlightly(fromX, fromY) {
    // throttle so it's not frantic
    const now = performance.now();
    if (now - lastMoveAt < 120) return;
    lastMoveAt = now;

    const c = card.getBoundingClientRect();
    const b = noBtn.getBoundingClientRect();
    const pad = 16;

    const cx = fromX - c.left;
    const cy = fromY - c.top;

    const curLeft = parseFloat(noBtn.style.left) || (c.width - b.width - 90);
    const curTop  = parseFloat(noBtn.style.top)  || 150;

    const nbCenterX = curLeft + b.width / 2;
    const nbCenterY = curTop  + b.height / 2;

    // direction away from cursor + tiny wobble
    let dx = (nbCenterX - cx) + (Math.random() - 0.5) * 18;
    let dy = (nbCenterY - cy) + (Math.random() - 0.5) * 14;
    const dist = Math.hypot(dx, dy) || 1;

    let newX = curLeft + (dx / dist) * MOVE_DISTANCE;
    let newY = curTop  + (dy / dist) * MOVE_DISTANCE;

    const maxX = c.width  - b.width  - pad;
    const maxY = c.height - b.height - pad;

    newX = clamp(newX, pad, maxX);
    newY = clamp(newY, pad, maxY);

    noBtn.style.left = `${newX}px`;
    noBtn.style.top  = `${newY}px`;

    bumpYes();
  }

  card.addEventListener("mousemove", (e) => {
    const nb = noBtn.getBoundingClientRect();
    const dist = Math.hypot(
      (nb.left + nb.width / 2) - e.clientX,
      (nb.top  + nb.height / 2) - e.clientY
    );
    if (dist < TRIGGER_RADIUS) moveNoSlightly(e.clientX, e.clientY);
  });

  noBtn.addEventListener("pointerenter", (e) => moveNoSlightly(e.clientX, e.clientY));
  noBtn.addEventListener("pointerdown", (e) => {
    e.preventDefault();
    moveNoSlightly(e.clientX, e.clientY);
  });

  // ---------------------------
  // Sparkle cursor trail
  // ---------------------------
  let lastSparkleAt = 0;

  function sparkleAt(x, y) {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = (x - 4) + "px";
    s.style.top  = (y - 4) + "px";

    // small random drift
    const sx = (Math.random() * 24 - 12).toFixed(0) + "px";
    const sy = (Math.random() * 24 - 12).toFixed(0) + "px";
    s.style.setProperty("--sx", sx);
    s.style.setProperty("--sy", sy);

    const dur = (Math.random() * 180 + 220).toFixed(0);
    s.style.animation = `sparkleFade ${dur}ms ease-out forwards`;

    document.body.appendChild(s);
    setTimeout(() => s.remove(), +dur);
  }

  window.addEventListener("mousemove", (e) => {
    const now = performance.now();
    if (now - lastSparkleAt < 28) return; // throttle density
    lastSparkleAt = now;
    sparkleAt(e.clientX, e.clientY);
  }, { passive: true });

  // ---------------------------
  // Heart burst (existing idea)
  // ---------------------------
  function burstHearts(originX, originY){
    const count = 28;
    for (let i = 0; i < count; i++){
      const h = document.createElement("div");
      h.className = "heart";
      h.style.left = `${originX - 7}px`;
      h.style.top  = `${originY - 7}px`;

      const dx = (Math.random() * 260 - 130).toFixed(0) + "px";
      const dy = (-1 * (Math.random() * 260 + 120)).toFixed(0) + "px";
      const s  = (Math.random() * 0.9 + 0.6).toFixed(2);

      h.style.setProperty("--dx", dx);
      h.style.setProperty("--dy", dy);
      h.style.setProperty("--s", s);

      const dur = (Math.random() * 450 + 650).toFixed(0);
      h.style.animation = `floatUp ${dur}ms ease-out forwards`;

      document.body.appendChild(h);
      setTimeout(() => h.remove(), dur);
    }
  }

  // ---------------------------
  // Mini confetti pop on YES
  // ---------------------------
  const confettiColors = ["#ff2e7a", "#ffffff", "#ffd1e1", "#ff8fb3", "#ff0f66"];

  function confettiPop(originX, originY) {
    const count = 22;
    for (let i = 0; i < count; i++) {
      const c = document.createElement("div");
      c.className = "confetti";
      c.style.left = (originX - 4) + "px";
      c.style.top  = (originY - 6) + "px";
      c.style.background = confettiColors[Math.floor(Math.random() * confettiColors.length)];

      const cx = (Math.random() * 220 - 110).toFixed(0) + "px";
      const cy = (-1 * (Math.random() * 260 + 120)).toFixed(0) + "px";
      const cr = (Math.random() * 720 - 360).toFixed(0) + "deg";
      c.style.setProperty("--cx", cx);
      c.style.setProperty("--cy", cy);
      c.style.setProperty("--cr", cr);

      const dur = (Math.random() * 350 + 550).toFixed(0);
      c.style.animation = `confettiPop ${dur}ms ease-out forwards`;

      document.body.appendChild(c);
      setTimeout(() => c.remove(), +dur);
    }
  }

  function showBanner(text = "YAY! üíñ") {
    const banner = document.createElement("div");
    banner.textContent = text;
    banner.style.position = "absolute";
    banner.style.left = "50%";
    banner.style.top = "18px";
    banner.style.transform = "translateX(-50%)";
    banner.style.padding = "10px 16px";
    banner.style.borderRadius = "999px";
    banner.style.background = "rgba(255,46,122,.12)";
    banner.style.border = "1px solid rgba(255,46,122,.25)";
    banner.style.fontWeight = "900";
    banner.style.backdropFilter = "blur(6px)";
    banner.style.boxShadow = "0 12px 25px rgba(255,46,122,.18)";
    banner.style.pointerEvents = "none";
    banner.style.zIndex = "20";

    card.appendChild(banner);

    banner.animate(
      [
        { opacity: 0, transform: "translateX(-50%) translateY(-10px) scale(.95)" },
        { opacity: 1, transform: "translateX(-50%) translateY(0px) scale(1)" }
      ],
      { duration: 240, easing: "ease-out", fill: "forwards" }
    );

    setTimeout(() => {
      banner.animate(
        [
          { opacity: 1, transform: "translateX(-50%) translateY(0px) scale(1)" },
          { opacity: 0, transform: "translateX(-50%) translateY(-10px) scale(.98)" }
        ],
        { duration: 260, easing: "ease-in", fill: "forwards" }
      );
      setTimeout(() => banner.remove(), 280);
    }, 1400);
  }

  function cardCelebrate() {
    card.animate(
      [
        { transform: "translateY(0) rotate(0deg)" },
        { transform: "translateY(-2px) rotate(-0.6deg)" },
        { transform: "translateY(0) rotate(0.6deg)" },
        { transform: "translateY(-1px) rotate(-0.3deg)" },
        { transform: "translateY(0) rotate(0deg)" }
      ],
      { duration: 520, easing: "ease-in-out" }
    );
  }

  // ---------------------------
  // YES click
  // ---------------------------
  let accepted = false;

  yesBtn.addEventListener("click", () => {
    if (accepted) return;
    accepted = true;

    const r = yesBtn.getBoundingClientRect();
    const x = r.left + r.width / 2;
    const y = r.top + r.height / 2;

    burstHearts(x, y);
    confettiPop(x, y);
    showBanner("YAY! üíñ It‚Äôs a date!");
    cardCelebrate();

    title.textContent = `YESSSSS! üíò ${GIRLFRIEND_NAME}, you‚Äôre my Valentine ü•∞`;
    note.textContent = "Best decision ever üòà";
    yesBtn.textContent = "üíò";

    noBtn.disabled = true;
    noBtn.style.opacity = "0.25";
    noBtn.style.cursor = "not-allowed";
  });
</script>
</body>
</html>
